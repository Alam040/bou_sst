"use strict";(self.webpackChunkca_mark=self.webpackChunkca_mark||[]).push([[419],{5419:function(e,t,n){n.d(t,{ZP:function(){return x}});var r=n(5671),o=n(3144),a=n(7326),i=n(136),h=n(7277),d=n(1413),s=n(2791),c={x:0,y:0,width:0,height:0,unit:"px"};function l(e,t,n){return Math.min(Math.max(e,t),n)}function p(e,t){return e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit}function w(e,t,n){return"%"===e.unit?(0,d.Z)((0,d.Z)((0,d.Z)({},c),e),{},{unit:"%"}):{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function g(e,t,n){return e.unit?"px"===e.unit?(0,d.Z)((0,d.Z)((0,d.Z)({},c),e),{},{unit:"px"}):{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:(0,d.Z)((0,d.Z)((0,d.Z)({},c),e),{},{unit:"px"})}function u(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:o,c=(0,d.Z)({},e),l=Math.min(a,r),p=Math.min(i,o),w=Math.min(h,r),g=Math.min(s,o);t&&(t>1?(p=(l=i?i*t:l)/t,w=h*t):(l=(p=a?a/t:p)*t,g=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,p),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,l),c.x=0);var u=r-(c.x+c.width);u<0&&(c.x=Math.min(c.x,r-l),c.width+=u);var v=o-(c.y+c.height);if(v<0&&(c.y=Math.min(c.y,o-p),c.height+=v),c.width<l&&(("sw"===n||"nw"==n)&&(c.x-=l-c.width),c.width=l),c.height<p&&(("nw"===n||"ne"==n)&&(c.y-=p-c.height),c.height=p),c.width>w&&(("sw"===n||"nw"==n)&&(c.x-=w-c.width),c.width=w),c.height>g&&(("nw"===n||"ne"==n)&&(c.y-=g-c.height),c.height=g),t){var y=c.width/c.height;if(y<t){var m=Math.max(c.width/t,p);("nw"===n||"ne"==n)&&(c.y-=m-c.height),c.height=m}else if(y>t){var x=Math.max(c.height*t,l);("sw"===n||"nw"==n)&&(c.x-=x-c.width),c.width=x}}return c}function v(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=v(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var y={capture:!0,passive:!1},m=function(e){(0,i.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).docMoveBound=!1,e.mouseDownOnCrop=!1,e.dragStarted=!1,e.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},e.componentRef=(0,s.createRef)(),e.mediaRef=(0,s.createRef)(),e.initChangeCalled=!1,e.state={cropIsActive:!1,newCropIsBeingDrawn:!1},e.onCropPointerDown=function(t){var n=e.props,r=n.crop,o=n.disabled,a=e.getBox();if(r){var i=g(r,a.width,a.height);if(!o){t.cancelable&&t.preventDefault(),e.bindDocMove(),e.componentRef.current.focus({preventScroll:!0});var h=t.target.dataset.ord,d=!!h,s=t.clientX,c=t.clientY,l=i.x,p=i.y;if(h){var w=t.clientX-a.x,u=t.clientY-a.y,v=0,y=0;"ne"===h||"e"==h?(v=w-(i.x+i.width),y=u-i.y,l=i.x,p=i.y+i.height):"se"===h||"s"===h?(v=w-(i.x+i.width),y=u-(i.y+i.height),l=i.x,p=i.y):"sw"===h||"w"==h?(v=w-i.x,y=u-(i.y+i.height),l=i.x+i.width,p=i.y):("nw"===h||"n"==h)&&(v=w-i.x,y=u-i.y,l=i.x+i.width,p=i.y+i.height),s=l+a.x+v,c=p+a.y+y}e.evData={startClientX:s,startClientY:c,startCropX:l,startCropY:p,clientX:t.clientX,clientY:t.clientY,isResize:d,ord:h},e.mouseDownOnCrop=!0,e.setState({cropIsActive:!0})}}},e.onComponentPointerDown=function(t){var n=e.props,r=n.crop,o=n.disabled,a=n.locked,i=n.keepSelection,h=n.onChange,d=e.getBox();if(!(o||a||i&&r)){t.cancelable&&t.preventDefault(),e.bindDocMove(),e.componentRef.current.focus({preventScroll:!0});var s=t.clientX-d.x,c=t.clientY-d.y,l={unit:"px",x:s,y:c,width:0,height:0};e.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:s,startCropY:c,clientX:t.clientX,clientY:t.clientY,isResize:!0},e.mouseDownOnCrop=!0,h(g(l,d.width,d.height),w(l,d.width,d.height)),e.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}},e.onDocPointerMove=function(t){var n=e.props,r=n.crop,o=n.disabled,i=n.onChange,h=n.onDragStart,d=e.getBox();if(!o&&r&&e.mouseDownOnCrop){t.cancelable&&t.preventDefault(),e.dragStarted||(e.dragStarted=!0,h&&h(t));var s,c=(0,a.Z)(e).evData;c.clientX=t.clientX,c.clientY=t.clientY,p(r,s=c.isResize?e.resizeCrop():e.dragCrop())||i(g(s,d.width,d.height),w(s,d.width,d.height))}},e.onComponentKeyDown=function(t){var r=e.props,o=r.crop,a=r.disabled,i=r.onChange,h=r.onComplete,d=e.getBox();if(!a){var s=t.key,c=!1;if(o){var p=e.makePixelCrop(),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?n.nudgeStepLarge:t.shiftKey?n.nudgeStepMedium:n.nudgeStep;if("ArrowLeft"===s?(p.x-=u,c=!0):"ArrowRight"===s?(p.x+=u,c=!0):"ArrowUp"===s?(p.y-=u,c=!0):"ArrowDown"===s&&(p.y+=u,c=!0),c){t.cancelable&&t.preventDefault(),p.x=l(p.x,0,d.width-p.width),p.y=l(p.y,0,d.height-p.height);var v=g(p,d.width,d.height),y=w(p,d.width,d.height);i(v,y),h&&h(v,y)}}}},e.onHandlerKeyDown=function(t,r){var o=e.props,a=o.aspect,i=void 0===a?0:a,h=o.crop,s=o.disabled,c=o.minWidth,l=void 0===c?0:c,v=o.minHeight,y=void 0===v?0:v,m=o.maxWidth,x=o.maxHeight,f=o.onChange,C=o.onComplete,D=e.getBox();if(!s&&h&&("ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key)){t.stopPropagation(),t.preventDefault();var b=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?n.nudgeStepLarge:t.shiftKey?n.nudgeStepMedium:n.nudgeStep,R=function(e,t,n,r){var o=(0,d.Z)({},e);return"ArrowLeft"===t?"nw"===r?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"w"===r?(o.x-=n,o.width+=n):"sw"===r?(o.x-=n,o.width+=n,o.height+=n):"ne"===r?(o.y+=n,o.width-=n,o.height-=n):"e"===r?o.width-=n:"se"===r&&(o.width-=n,o.height-=n):"ArrowRight"===t&&("nw"===r?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"w"===r?(o.x+=n,o.width-=n):"sw"===r?(o.x+=n,o.width-=n,o.height-=n):"ne"===r?(o.y-=n,o.width+=n,o.height+=n):"e"===r?o.width+=n:"se"===r&&(o.width+=n,o.height+=n)),"ArrowUp"===t?"nw"===r?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"n"===r?(o.y-=n,o.height+=n):"ne"===r?(o.y-=n,o.width+=n,o.height+=n):"sw"===r?(o.x+=n,o.width-=n,o.height-=n):"s"===r?o.height-=n:"se"===r&&(o.width-=n,o.height-=n):"ArrowDown"===t&&("nw"===r?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"n"===r?(o.y+=n,o.height-=n):"ne"===r?(o.y+=n,o.width-=n,o.height-=n):"sw"===r?(o.x-=n,o.width+=n,o.height+=n):"s"===r?o.height+=n:"se"===r&&(o.width+=n,o.height+=n)),o}(g(h,D.width,D.height),t.key,b,r),k=u(R,i,r,D.width,D.height,l,y,m,x);if(!p(h,k)){var _=w(k,D.width,D.height);f(k,_),C&&C(k,_)}}},e.onDocPointerDone=function(t){var n=e.props,r=n.crop,o=n.disabled,a=n.onComplete,i=n.onDragEnd,h=e.getBox();e.unbindDocMove(),!o&&r&&e.mouseDownOnCrop&&(e.mouseDownOnCrop=!1,e.dragStarted=!1,i&&i(t),a&&a(g(r,h.width,h.height),w(r,h.width,h.height)),e.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},e.onDragFocus=function(t){var n;null==(n=e.componentRef.current)||n.scrollTo(0,0)},e}return(0,o.Z)(n,[{key:"document",get:function(){return document}},{key:"getBox",value:function(){var e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};var t=e.getBoundingClientRect();return{x:t.x,y:t.y,width:t.width,height:t.height}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.crop,r=t.onComplete;if(r&&!e.crop&&n){var o=this.getBox(),a=o.width,i=o.height;a&&i&&r(g(n,a,i),w(n,a,i))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"bindDocMove",value:function(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,y),this.document.addEventListener("pointerup",this.onDocPointerDone,y),this.document.addEventListener("pointercancel",this.onDocPointerDone,y),this.docMoveBound=!0)}},{key:"unbindDocMove",value:function(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,y),this.document.removeEventListener("pointerup",this.onDocPointerDone,y),this.document.removeEventListener("pointercancel",this.onDocPointerDone,y),this.docMoveBound=!1)}},{key:"getCropStyle",value:function(){var e=this.props.crop;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}},{key:"dragCrop",value:function(){var e=this.evData,t=this.getBox(),n=this.makePixelCrop(),r=e.clientX-e.startClientX,o=e.clientY-e.startClientY;return n.x=l(e.startCropX+r,0,t.width-n.width),n.y=l(e.startCropY+o,0,t.height-n.height),n}},{key:"getPointRegion",value:function(e){var t=this.evData,n=t.clientX-e.x,r=t.clientY-e.y<t.startCropY;return n<t.startCropX?r?"nw":"sw":r?"ne":"se"}},{key:"resizeCrop",value:function(){var e=this.evData,t=this.getBox(),r=this.props,o=r.aspect,a=void 0===o?0:o,i=r.minWidth,h=void 0===i?0:i,d=r.minHeight,s=void 0===d?0:d,c=r.maxWidth,l=r.maxHeight,p=this.getPointRegion(t),w=this.makePixelCrop(),g=e.ord?e.ord:p,v=e.clientX-e.startClientX,y=e.clientY-e.startClientY,m={unit:"px",x:0,y:0,width:0,height:0};"ne"===p?(m.x=e.startCropX,m.width=v,a?(m.height=m.width/a,m.y=e.startCropY-m.height):(m.height=Math.abs(y),m.y=e.startCropY-m.height)):"se"===p?(m.x=e.startCropX,m.y=e.startCropY,m.width=v,m.height=a?m.width/a:y):"sw"===p?(m.x=e.startCropX+v,m.y=e.startCropY,m.width=Math.abs(v),m.height=a?m.width/a:y):"nw"===p&&(m.x=e.startCropX+v,m.width=Math.abs(v),a?(m.height=m.width/a,m.y=e.startCropY-m.height):(m.height=Math.abs(y),m.y=e.startCropY+y));var x=u(m,a,p,t.width,t.height,h,s,c,l);return a||n.xyOrds.indexOf(g)>-1?(w.x=x.x,w.y=x.y,w.width=x.width,w.height=x.height):n.xOrds.indexOf(g)>-1?(w.x=x.x,w.width=x.width):n.yOrds.indexOf(g)>-1&&(w.y=x.y,w.height=x.height),w}},{key:"createCropSelection",value:function(){var e=this,t=this.props,r=t.ariaLabels,o=void 0===r?n.defaultProps.ariaLabels:r,a=t.disabled,i=t.locked,h=t.renderSelectionAddon,d=t.ruleOfThirds,c=t.crop,l=this.getCropStyle();if(c)return s.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":o.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!a&&!i&&s.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},s.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),s.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),s.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),s.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":o.nwDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"nw")},role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":o.nDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"n")},role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":o.neDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"ne")},role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":o.eDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"e")},role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":o.seDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"se")},role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":o.sDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"s")},role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":o.swDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"sw")},role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":o.wDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"w")},role:"button"})),h&&s.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:function(e){return e.stopPropagation()}},h(this.state)),d&&s.createElement(s.Fragment,null,s.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),s.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}},{key:"makePixelCrop",value:function(){var e=(0,d.Z)((0,d.Z)({},c),this.props.crop||{}),t=this.getBox();return g(e,t.width,t.height)}},{key:"render",value:function(){var e=this.props,t=e.aspect,n=e.children,r=e.circularCrop,o=e.className,a=e.crop,i=e.disabled,h=e.locked,d=e.style,c=e.ruleOfThirds,l=this.state,p=l.cropIsActive,w=l.newCropIsBeingDrawn,g=a?this.createCropSelection():null,u=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=v(e))&&(r&&(r+=" "),r+=t);return r}("ReactCrop",o,{"ReactCrop--active":p,"ReactCrop--disabled":i,"ReactCrop--locked":h,"ReactCrop--new-crop":w,"ReactCrop--fixed-aspect":a&&t,"ReactCrop--circular-crop":a&&r,"ReactCrop--rule-of-thirds":a&&c,"ReactCrop--invisible-crop":!this.dragStarted&&a&&!a.width&&!a.height});return s.createElement("div",{ref:this.componentRef,className:u,style:d},s.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),g)}}]),n}(s.PureComponent),x=m;x.xOrds=["e","w"],x.yOrds=["n","s"],x.xyOrds=["nw","ne","se","sw"],x.nudgeStep=1,x.nudgeStepMedium=10,x.nudgeStepLarge=100,x.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}}}}]);
//# sourceMappingURL=419.c79f579e.chunk.js.map