{"version":3,"file":"static/js/602.b6d27efd.chunk.js","mappings":"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","sources":["components/assets/MarksEntry/Assignment/AddAssignment.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useAxios from \"../../../../api/Axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useMarksEntry } from \"../../../../Context/MarksEntry\";\r\n\r\nconst AddAssignment = () => {\r\n  const marks = useMarksEntry();\r\n  const axios = useAxios();\r\n  const [students, setStudents] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(true);\r\n  React.useEffect(() => {\r\n    const getData = async () => {\r\n      const url = \"/student/all?id=\" + marks.classInfo.classId;\r\n      await axios.get(url).then((res) => {\r\n        const data = res.data;\r\n        setStudents(data);\r\n      });\r\n    };\r\n\r\n    getData();\r\n    setLoading(false);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [axios, marks.classInfo, marks.classInfo.classId]);\r\n\r\n  const handleReset = () => {\r\n    marks.handleBackToOption(false);\r\n    marks.handleOpenAssignment(false);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const url = \"/marks/update?label=Assignment-\" + marks.label;\r\n      await axios.put(url, { data: students }).then((res) => {\r\n        // handleSuccess(res.data);\r\n        handleSuccess(res.data);\r\n        setTimeout(() => {\r\n          marks.handleBackToOption(false);\r\n          marks.handleOpenAssign(false);\r\n        }, 1000);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      handleError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleSuccess = (msg) => {\r\n    toast.success(msg, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"light\",\r\n    });\r\n  };\r\n\r\n  const handleError = (msg) => {\r\n    toast.error(msg, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"light\",\r\n    });\r\n  };\r\n\r\n  const handleChange = (e, idx) => {\r\n    const val = e.target.value;\r\n    let fields1 = document.getElementsByName(\"id\")[idx];\r\n    let fields2 = document.getElementsByName(\"name\")[idx];\r\n    let fields = document.getElementsByName(\"assign\")[idx];\r\n\r\n    if (val <= 10 && val >= 0) {\r\n      fields1.style.background = \"transparent\";\r\n      fields2.style.background = \"transparent\";\r\n      fields.style.background = \"transparent\";\r\n      students[idx][`assign${marks.label}`] = Number(val);\r\n    } else {\r\n      fields.value = students[idx][`assign${marks.label}`];\r\n      fields.style.background = \"rgba(255, 121, 121,0.2)\";\r\n      fields1.style.background = \"rgba(255, 121, 121,0.2)\";\r\n      fields2.style.background = \"rgba(255, 121, 121,0.2)\";\r\n      handleError(`Input Value(${val}) large from 10`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AttendancePanel open={marks.openAssign}>\r\n      <Form>\r\n        <Title>Add Marks for Assignment - {marks.label}</Title>\r\n        {loading ? (\r\n          \"Loading...\"\r\n        ) : (\r\n          <InputPanel>\r\n            {students.map((dt, idx) => {\r\n              return (\r\n                <React.Fragment key={idx}>\r\n                  <p\r\n                    style={{\r\n                      marginBottom: 0,\r\n                      fontWeight: 500,\r\n                      marginTop: \"10px\",\r\n                    }}\r\n                  >\r\n                    Index No: #{idx + 1}\r\n                  </p>\r\n                  <FlexRow>\r\n                    <Input\r\n                      disabled\r\n                      name=\"id\"\r\n                      className=\"stuId\"\r\n                      type=\"Number\"\r\n                      defaultValue={dt.stuId}\r\n                    />\r\n                    <Input\r\n                      disabled\r\n                      name=\"name\"\r\n                      type=\"text\"\r\n                      defaultValue={dt.stuName}\r\n                    />\r\n                    <InputSubPanel>\r\n                      <Input\r\n                        style={{ width: \"100%\" }}\r\n                        name=\"assign\"\r\n                        type=\"Number\"\r\n                        max=\"10\"\r\n                        min=\"0\"\r\n                        defaultValue={dt[`assign${marks.label}`]}\r\n                        onChange={(e) => handleChange(e, idx)}\r\n                        onWheel={() => document.activeElement.blur()}\r\n                      />\r\n                      <Text>10</Text>\r\n                    </InputSubPanel>\r\n                  </FlexRow>\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n            <ButtonPanel>\r\n              <Button onClick={handleReset}>Back</Button>\r\n              <Button onClick={handleSubmit}>Submit</Button>\r\n            </ButtonPanel>\r\n          </InputPanel>\r\n        )}\r\n      </Form>\r\n    </AttendancePanel>\r\n  );\r\n};\r\n\r\nexport default AddAssignment;\r\n\r\nconst AttendancePanel = styled.div`\r\n  display: ${(props) => (props.open === true ? \"block\" : \"none\")};\r\n  width: 750px;\r\n  border-radius: 5px;\r\n  padding: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media (max-width: 760px) {\r\n    width: 95%;\r\n  }\r\n`;\r\n\r\nconst Form = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 0.4rem 0.2rem;\r\n  border-radius: 3px;\r\n  margin-bottom: 0.3rem;\r\n  border: 1px solid rgba(3, 3, 3, 0.2);\r\n\r\n  &::placeholder {\r\n    color: rgba(3, 3, 3, 0.2);\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  font-weight: 500;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  min-width: 100px;\r\n  &:nth-child(1) {\r\n    background: rgba(235, 77, 75, 1);\r\n    margin-right: 5px;\r\n  }\r\n\r\n  &:nth-child(2) {\r\n    background: rgba(72, 52, 212, 1);\r\n  }\r\n\r\n  &:hover {\r\n    &:nth-child(1) {\r\n      background: rgba(235, 100, 75, 1);\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      background: rgba(72, 100, 212, 1);\r\n    }\r\n  }\r\n\r\n  @media (max-width: 560px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 1rem 0;\r\n  padding: 0.2rem 0;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst InputPanel = styled.div`\r\n  border: 1px solid rgba(3, 3, 3, 0.3);\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 0.2rem;\r\n  padding: 0.2rem 3rem;\r\n  position: relative;\r\n  border-radius: 3px;\r\n  width: 700px;\r\n\r\n  @media (max-width: 760px) {\r\n    width: 90%;\r\n    padding: 0.2rem 1rem;\r\n  }\r\n`;\r\n\r\nconst FlexRow = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto auto;\r\n  overflow: hidden;\r\n  width: 100%;\r\n\r\n  @media (max-width: 560px) {\r\n    grid-template-columns: auto;\r\n  }\r\n`;\r\n\r\nconst Text = styled.span`\r\n  margin: 0;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-bottom: 0.3rem;\r\n  padding-left: 5px;\r\n  position: absolute;\r\n  right: 2px;\r\n  background: rgba(50, 200, 100, 1);\r\n  width: 45px;\r\n  top: 0.18rem;\r\n  bottom: 0.46rem;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  border: 1px solid rgba(3, 3, 3, 0.4);\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst InputSubPanel = styled.div`\r\n  position: relative;\r\n`;\r\n"],"names":["marks","useMarksEntry","axios","useAxios","React","students","setStudents","loading","setLoading","getData","url","classInfo","classId","get","then","res","data","handleSubmit","label","put","handleSuccess","setTimeout","handleBackToOption","handleOpenAssign","console","log","handleError","message","msg","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","AttendancePanel","open","openAssign","Form","Title","InputPanel","map","dt","idx","style","marginBottom","fontWeight","marginTop","FlexRow","Input","disabled","name","className","type","defaultValue","stuId","stuName","InputSubPanel","width","max","min","onChange","e","val","target","value","fields1","document","getElementsByName","fields2","fields","background","Number","handleChange","onWheel","activeElement","blur","Text","ButtonPanel","Button","onClick","handleOpenAssignment","styled","props"],"sourceRoot":""}