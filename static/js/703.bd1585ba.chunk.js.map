{"version":3,"file":"static/js/703.bd1585ba.chunk.js","mappings":"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","sources":["api/Axios.js","pages/CreateClass.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport useCookies from \"react-cookie/cjs/useCookies\";\r\n\r\nconst useAxios = () => {\r\n  const [cookies] = useCookies([\"log\"]);\r\n  axios.defaults.baseURL = process.env.REACT_APP_SERVER_API_URL;\r\n  //   axios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\r\n  axios.defaults.params = {};\r\n\r\n  axios.defaults.headers.common[\"Authorization\"] = cookies.log || undefined;\r\n\r\n  return axios;\r\n};\r\n\r\nexport default useAxios;\r\n","import React from \"react\";\r\nimport { createSearchParams, useLocation, useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { course } from \"../data/Subject\";\r\nimport useAxios from \"../api/Axios\";\r\n// import { useSelector } from \"react-redux\";\r\nimport { theme } from \"../data/ThemeColor\";\r\nimport { useAuth } from \"../Context/Auth\";\r\nimport { handleError, handleSuccess } from \"../utils/Toastify.js\";\r\n\r\nconst CreateClass = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const auth = useAuth();\r\n  const axios = useAxios();\r\n  // const { id, name } = useSelector((state) => state.user);\r\n  const [classInfo, setClassInfo] = React.useState({\r\n    teacherName: auth.user.name,\r\n    teacherId: auth.user.id,\r\n    center: auth.user.center,\r\n    theme: 2,\r\n  });\r\n\r\n  React.useEffect(() => {}, [classInfo.year]);\r\n\r\n  const handleChange = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    setClassInfo({ ...classInfo, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    const url = \"/class/create\";\r\n    await axios\r\n      .post(url, classInfo)\r\n      .then((res) => {\r\n        handleSuccess(res.data.message);\r\n        const path = location.pathname.replace(\"/create\", \"/view\");\r\n        navigate({\r\n          pathname: path,\r\n          search: createSearchParams({\r\n            id: res.data.id,\r\n          }).toString(),\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        handleError(err.message);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Section>\r\n      <Container>\r\n        <BgContainer />\r\n        <Form onSubmit={handleSubmit}>\r\n          <FormHeader>Create New Class</FormHeader>\r\n          <SelectGroup>\r\n            <InputGroup>\r\n              <Label>Year</Label>\r\n              <Select\r\n                name=\"year\"\r\n                defaultValue={classInfo.year}\r\n                onChange={(e) => {\r\n                  handleChange(e);\r\n                  if (e.target.value === \"0\") {\r\n                    document.getElementsByName(\"semester\").values = null;\r\n                    document.getElementsByName(\"courseName\").values = null;\r\n                    delete classInfo[\"year\"];\r\n                    delete classInfo[\"semester\"];\r\n                    delete classInfo[\"courseName\"];\r\n                  }\r\n                }}\r\n                style={{ marginRight: \"10px\" }}\r\n                required\r\n              >\r\n                <option value=\"0\">Select Year</option>\r\n                <option value=\"1\">1st Year</option>\r\n                <option value=\"2\">2nd Year</option>\r\n                <option value=\"3\">3rd Year</option>\r\n                <option value=\"4\">4th Year</option>\r\n              </Select>\r\n            </InputGroup>\r\n            <InputGroup>\r\n              <Label>Semester</Label>\r\n              <Select\r\n                name=\"semester\"\r\n                onChange={(e) => {\r\n                  handleChange(e);\r\n                  if (e.target.value === \"0\") {\r\n                    document.getElementsByName(\"courseName\").values = null;\r\n                    delete classInfo[\"semester\"];\r\n                    delete classInfo[\"courseName\"];\r\n                  }\r\n                }}\r\n                required\r\n              >\r\n                {classInfo.year !== undefined && (\r\n                  <>\r\n                    <option value=\"0\">Select Semester</option>\r\n                    <option value=\"1\">1st Semister</option>\r\n                    <option value=\"2\">2nd Semister</option>\r\n                  </>\r\n                )}\r\n              </Select>\r\n            </InputGroup>\r\n          </SelectGroup>\r\n          <InputGroup>\r\n            <Label>Course</Label>\r\n            <Select\r\n              name=\"courseName\"\r\n              defaultValue={classInfo.courseName}\r\n              onChange={(e) => {\r\n                const val = e.target.value;\r\n\r\n                if (val !== \"\") {\r\n                  course.map((data) => {\r\n                    if (data.fullTitle === val) {\r\n                      setClassInfo({\r\n                        ...classInfo,\r\n                        courseType: data.courseType,\r\n                        courseName: val,\r\n                      });\r\n                    }\r\n                    return null;\r\n                  });\r\n                } else {\r\n                  delete classInfo[\"courseName\"];\r\n                }\r\n              }}\r\n              required\r\n            >\r\n              {classInfo.year !== undefined &&\r\n                classInfo.semester !== undefined && (\r\n                  <option value=\"\">Select Course Title</option>\r\n                )}\r\n              {classInfo.year !== undefined && classInfo.semester !== undefined\r\n                ? course.map((data) => {\r\n                    return data.year === Number(classInfo.year) &&\r\n                      data.semester === Number(classInfo.semester) ? (\r\n                      <option key={data.code} value={data.fullTitle}>\r\n                        {data.fullTitle}\r\n                      </option>\r\n                    ) : null;\r\n                  })\r\n                : null}\r\n            </Select>\r\n          </InputGroup>\r\n          <InputGroup>\r\n            <Label>Session</Label>\r\n            <Input\r\n              name=\"session\"\r\n              type=\"text\"\r\n              defaultValue={classInfo.session}\r\n              onChange={handleChange}\r\n              placeholder=\"2018-19\"\r\n              required\r\n            />\r\n          </InputGroup>\r\n\r\n          <InputGroup>\r\n            <Label>Term</Label>\r\n            <Input\r\n              name=\"term\"\r\n              type=\"number\"\r\n              defaultValue={classInfo.term}\r\n              onChange={handleChange}\r\n              placeholder=\"Term\"\r\n              required\r\n            />\r\n          </InputGroup>\r\n          <InputGroup>\r\n            <Label>Color</Label>\r\n            <SelectColor classInfo={classInfo} setClassInfo={setClassInfo} />\r\n          </InputGroup>\r\n          <ButtonGroup>\r\n            <Button\r\n              type=\"button\"\r\n              onClick={() => navigate(-1)}\r\n              style={{ background: \"rgba(255, 56, 56,1.0)\" }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              style={{ background: \"rgba(72, 52, 212,1.0)\" }}\r\n            >\r\n              Create\r\n            </Button>\r\n          </ButtonGroup>\r\n        </Form>\r\n      </Container>\r\n    </Section>\r\n  );\r\n};\r\n\r\nfunction SelectColor({ classInfo, setClassInfo }) {\r\n  const handleColorChange = React.useCallback(\r\n    (id) => {\r\n      setClassInfo({ ...classInfo, theme: id });\r\n    },\r\n    [classInfo, setClassInfo]\r\n  );\r\n\r\n  return (\r\n    <ColorContainer>\r\n      <ColorPanel>\r\n        {theme.map((data, idx) => {\r\n          return (\r\n            <ColorItem\r\n              key={data.id}\r\n              barient={idx === classInfo.theme ? data.color : null}\r\n              onClick={() => handleColorChange(data.id)}\r\n            >\r\n              <Color barient={data.color}>\r\n                <p style={{ marginBottom: \"0\" }}>{data.short}</p>\r\n              </Color>\r\n            </ColorItem>\r\n          );\r\n        })}\r\n      </ColorPanel>\r\n    </ColorContainer>\r\n  );\r\n}\r\n\r\nexport default CreateClass;\r\n\r\nexport const Section = styled.section`\r\n  min-height: 80vh;\r\n  margin-top: 10px;\r\n`;\r\nexport const Container = styled.div``;\r\nexport const Form = styled.form`\r\n  padding: 1rem 2rem;\r\n  width: 450px;\r\n  border: 1px solid rgba(95, 39, 205, 01);\r\n  border-radius: 15px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 0.5rem 0;\r\n  background: #fff;\r\n  box-shadow: 1px 1px 10px 10px rgba(3, 3, 3, 0.2);\r\n\r\n  @media (max-width: 460px) {\r\n    width: 100%;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nexport const FormHeader = styled.h1`\r\n  @media (min-width: 540px) {\r\n    font-size: 1.3rem;\r\n  }\r\n`;\r\n\r\nexport const InputGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n`;\r\nexport const Input = styled.input`\r\n  padding: 0.5rem 1rem;\r\n  border: 1px solid rgba(95, 39, 205, 01);\r\n\r\n\r\n  &:,\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid rgba(95, 39, 205, 0.5);\r\n  }\r\n`;\r\n\r\nexport const Select = styled.select`\r\n  padding: 0.5rem 1rem;\r\n  border: 1px solid rgba(95, 39, 205, 01);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border: 1px solid rgba(95, 39, 205, 0.5);\r\n  }\r\n`;\r\n\r\nexport const SelectGroup = styled.div`\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Span = styled.span`\r\n  background: rgba(95, 39, 205, 01);\r\n  color: #fff;\r\n  border: 1px solid rgba(95, 39, 205, 01);\r\n`;\r\n\r\nexport const ButtonGroup = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-top: 0.5rem;\r\n  width: 100%;\r\n  justify-content: flex-end;\r\n\r\n  @media (max-width: 560px) {\r\n    flex-direction: column-reverse;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  font-weight: 600;\r\n  min-width: 100px;\r\n  color: #fff;\r\n  margin: 1rem 0;\r\n  font-size: 0.9rem;\r\n  margin: 0.5rem;\r\n  border-radius: 3px;\r\n  &:nth-last-child(1) {\r\n    margin-right: 0;\r\n  }\r\n\r\n  @media (max-width: 560px) {\r\n    padding: 0.5rem 1rem;\r\n    min-width: 95%;\r\n    margin: 0.5rem 0;\r\n    font-size: 1.1rem;\r\n  }\r\n`;\r\n\r\nconst ColorContainer = styled.div`\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 0.1rem 0.5rem;\r\n  position: relative;\r\n  cursor: pointer;\r\n  background: #fff;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ColorPanel = styled.div`\r\n  width: 100%;\r\n  height: auto;\r\n  padding: 0.3rem;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: rgba(250, 250, 250, 1);\r\n  margin-bottom: 0.5rem;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst ColorItem = styled.div`\r\n  width: 34px;\r\n  height: 34px;\r\n  padding: 2px;\r\n  margin: 3px;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  color: #fff;\r\n  outline: 3px solid\r\n    ${(props) => (props.barient ? props.barient : \"transparent\")};\r\n`;\r\n\r\nconst Color = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background: ${(props) => (props.barient ? props.barient : \"transparent\")};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst BgContainer = styled.div`\r\n  width: 100%;\r\n  height: 150px;\r\n  background: blue;\r\n  position: fixed;\r\n  z-index: -1000;\r\n  top: 70px;\r\n  background: linear-gradient(to bottom, rgba(3, 3, 3, 0.7), rgba(3, 3, 3, 0.5)),\r\n    url(\"${require(\"../components/images/instroment.jpg\")}\");\r\n  background-size: auto;\r\n  background-position: top left;\r\n  background-repeat: no-repeat;\r\n  background-attachment: scroll;\r\n`;\r\n"],"names":["useCookies","cookies","axios","process","log","undefined","SelectColor","classInfo","setClassInfo","handleColorChange","React","id","theme","ColorContainer","ColorPanel","data","idx","ColorItem","barient","color","onClick","Color","style","marginBottom","short","navigate","useNavigate","location","useLocation","auth","useAuth","useAxios","teacherName","user","name","teacherId","center","year","handleChange","e","target","value","handleSubmit","evt","preventDefault","post","then","res","handleSuccess","message","path","pathname","replace","search","createSearchParams","toString","catch","err","handleError","console","Section","Container","BgContainer","Form","onSubmit","FormHeader","SelectGroup","InputGroup","Label","Select","defaultValue","onChange","document","getElementsByName","values","marginRight","required","courseName","val","course","fullTitle","courseType","semester","Number","code","Input","type","session","placeholder","term","ButtonGroup","Button","background","styled","Span","props","require"],"sourceRoot":""}