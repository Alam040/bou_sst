{"version":3,"file":"static/js/773.a2b9e920.chunk.js","mappings":"sPAmMA,UA5LsB,SAAH,GAAsD,IAAhDA,EAAS,EAATA,UAAWC,EAAY,EAAZA,aAAcC,EAAe,EAAfA,gBAC1CC,GAAQC,EAAAA,EAAAA,KACd,EAA8BC,EAAAA,UAAe,GAAK,eAA3CC,EAAO,KAAEC,EAAU,KAC1B,EAAwBF,EAAAA,SAAe,CACrC,CACE,UACA,GACA,GACAG,OAAOR,EAAUS,SACjBT,EAAUU,KACVV,EAAUW,SACVX,EAAUY,WACVZ,EAAUa,QAEZ,eAXKC,EAAI,KAAEC,EAAO,KAapBV,EAAAA,WAAgB,WACdE,GAAW,EACb,GAAG,CAACO,EAAMA,EAAKE,OAAQf,IAEvB,IAoCMgB,EAAY,yCAAG,mFAGa,OAFhCV,GAAW,GAAM,SAEH,mBAAmB,EAAD,OACxBJ,EACHe,KAFS,mBAEC,CAAEJ,KAAAA,IACZK,MAAK,SAACC,GACLC,IACAC,EAAcF,EAAIN,KACpB,IACCS,OAAM,SAACC,GACNC,EAAYD,EAAIE,QAClB,IAAG,KAAD,kDAEJD,EAAY,KAAMC,SAAS,QAET,OAFS,UAE3BnB,GAAW,GAAO,4EAErB,kBAlBiB,mCAoBZc,EAAc,WAClBN,EAAQ,CACN,CACE,UACA,GACA,GACAP,OAAOR,EAAUS,SACjBT,EAAUU,KACVV,EAAUW,SACVX,EAAUY,WACVZ,EAAUa,QAGdX,GAAgB,EAClB,EAEMoB,EAAgB,SAACK,GACrBC,EAAAA,GAAAA,QAAcD,EAAK,CACjBE,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,SAEX,EAEMZ,EAAc,SAACE,GACnBC,EAAAA,GAAAA,MAAYD,EAAK,CACfE,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,SAEX,EAEA,OACE,SAACC,EAAS,CAACC,KAAMtC,EAAa,UAC5B,UAACuC,EAAI,YACH,SAACC,EAAK,UAAC,6BACNnC,EACC,cAEA,UAACoC,EAAU,WACR5B,EAAK6B,KAAI,SAACC,EAAIC,GACb,OACE,UAAC,WAAc,YACb,eAAGC,MAAO,CAAEC,aAAc,EAAGC,WAAY,KAAM,UAAC,cAClCH,EAAM,MAEpB,UAACI,EAAO,YACN,UAACC,EAAU,YACT,SAACC,EAAK,UAAC,iBACP,SAACC,EAAK,CACJC,UAAU,QACVC,KAAK,SACLC,aAAcX,EAAG,GACjBY,YAAY,cACZC,SAAU,SAACC,GACT5C,EAAK+B,GAAK,GAAKa,EAAEC,OAAOC,KAC1B,QAGJ,UAACV,EAAU,YACT,SAACC,EAAK,UAAC,mBACP,SAACC,EAAK,CACJS,KAAK,OACLP,KAAK,OACLC,aAAcX,EAAG,GACjBY,YAAY,WACZC,SAAU,SAACC,GACT5C,EAAK+B,GAAK,GAAKa,EAAEC,OAAOC,KAC1B,QAGJ,UAACE,EAAW,YACV,SAACC,EAAU,CACTjB,MAAO,CAAEkB,MAAO,OAAQC,WAAY,SACpCC,QAAS,kBA5IF,SAACrB,GAC5BtC,GAAW,GACX,IAAM4D,EAAW,GACjBrD,EAAK6B,KAAI,SAACyB,EAAGC,GAcX,OAbAF,EAASG,KAAKF,GACVC,IAAUxB,GACZsB,EAASG,KAAK,CACZ,UACA,GACA,GACA9D,OAAOR,EAAUS,SACjBT,EAAUU,KACVV,EAAUW,SACVX,EAAUY,WACVZ,EAAUa,OAGP,IACT,IACA0D,QAAQC,IAAIL,GACZpD,EAAQoD,GACRM,YAAW,WACTlE,GAAW,EACb,GAAG,IACL,CAoHqCmE,CAAqB7B,EAAI,EAAC,UAEzC,SAAC,MAAQ,OAED,IAARA,GAAa/B,EAAKE,OAAS,KAC3B,SAAC+C,EAAU,CACTjB,MAAO,CAAEkB,MAAO,IAAKC,WAAY,OACjCC,QAAS,kBAzHJ,SAACrB,GAC5BtC,GAAW,GACXO,EAAK6D,OAAO9B,EAAK,GAEjB9B,EADgBD,GAEhB2D,YAAW,WACTlE,GAAW,EACb,GAAG,IACL,CAiHuCqE,CAAqB/B,EAAI,EAAC,UAEzC,SAAC,MAAO,cAzCGA,EAgDzB,KACA,UAACgC,EAAW,YACV,SAACC,EAAM,CAACZ,QAAS7C,EAAY,SAAC,UAC9B,SAACyD,EAAM,CAACZ,QAASjD,EAAa,SAAC,qBAO7C,EAIA,IAAMqB,EAAYyC,EAAAA,GAAAA,IAAU,yCACf,SAACC,GAAK,OAAqB,IAAfA,EAAMzC,KAAgB,QAAU,MAAM,IAGzDC,EAAOuC,EAAAA,GAAAA,IAAU,8GAOjB5B,EAAQ4B,EAAAA,GAAAA,MAAY,8CAIpB3B,EAAQ2B,EAAAA,GAAAA,MAAY,wMAWpBD,EAASC,EAAAA,GAAAA,OAAa,+dA6BtBF,EAAcE,EAAAA,GAAAA,IAAU,iHAOxBtC,EAAQsC,EAAAA,GAAAA,GAAS,iEAKjBhB,EAAagB,EAAAA,GAAAA,IAAU,sSAiBvBrC,EAAaqC,EAAAA,GAAAA,IAAU,uRAevB7B,EAAa6B,EAAAA,GAAAA,IAAU,gJASvB9B,EAAU8B,EAAAA,GAAAA,IAAU,iMAWpBjB,EAAciB,EAAAA,GAAAA,IAAU,iQ","sources":["components/assets/MarksEntry/AddIndividual.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MdClose } from \"react-icons/md\";\r\nimport { HiPlusSm } from \"react-icons/hi\";\r\nimport useAxios from \"../../../api/Axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst AddIndividual = ({ classInfo, isIndividual, setIsIndivisual }) => {\r\n  const axios = useAxios();\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [data, setData] = React.useState([\r\n    [\r\n      \"default\",\r\n      \"\",\r\n      \"\",\r\n      Number(classInfo.classId),\r\n      classInfo.year,\r\n      classInfo.semester,\r\n      classInfo.courseName,\r\n      classInfo.term,\r\n    ],\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    setLoading(false);\r\n  }, [data, data.length, isIndividual]);\r\n\r\n  const handleIncrementArray = (idx) => {\r\n    setLoading(true);\r\n    const newArray = [];\r\n    data.map((d, index) => {\r\n      newArray.push(d);\r\n      if (index === idx) {\r\n        newArray.push([\r\n          \"default\",\r\n          \"\",\r\n          \"\",\r\n          Number(classInfo.classId),\r\n          classInfo.year,\r\n          classInfo.semester,\r\n          classInfo.courseName,\r\n          classInfo.term,\r\n        ]);\r\n      }\r\n      return null;\r\n    });\r\n    console.log(newArray);\r\n    setData(newArray);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 100);\r\n  };\r\n\r\n  const handleDecrementArray = (idx) => {\r\n    setLoading(true);\r\n    data.splice(idx, 1);\r\n    const newData = data;\r\n    setData(newData);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 100);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const url = \"/import/students\";\r\n      await axios\r\n        .post(url, { data })\r\n        .then((res) => {\r\n          handleReset();\r\n          handleSuccess(res.data);\r\n        })\r\n        .catch((err) => {\r\n          handleError(err.message);\r\n        });\r\n    } catch (error) {\r\n      handleError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setData([\r\n      [\r\n        \"default\",\r\n        \"\",\r\n        \"\",\r\n        Number(classInfo.classId),\r\n        classInfo.year,\r\n        classInfo.semester,\r\n        classInfo.courseName,\r\n        classInfo.term,\r\n      ],\r\n    ]);\r\n    setIsIndivisual(false);\r\n  };\r\n\r\n  const handleSuccess = (msg) => {\r\n    toast.success(msg, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"light\",\r\n    });\r\n  };\r\n\r\n  const handleError = (msg) => {\r\n    toast.error(msg, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      theme: \"light\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container open={isIndividual}>\r\n      <Form>\r\n        <Title>Add Student Individually</Title>\r\n        {loading ? (\r\n          \"Loading...\"\r\n        ) : (\r\n          <InputPanel>\r\n            {data.map((dt, idx) => {\r\n              return (\r\n                <React.Fragment key={idx}>\r\n                  <p style={{ marginBottom: 0, fontWeight: 500 }}>\r\n                    Index No: #{idx + 1}\r\n                  </p>\r\n                  <FlexRow>\r\n                    <InputGroup>\r\n                      <Label>Student ID:</Label>\r\n                      <Input\r\n                        className=\"stuId\"\r\n                        type=\"Number\"\r\n                        defaultValue={dt[1]}\r\n                        placeholder=\"18052801001\"\r\n                        onChange={(e) => {\r\n                          data[idx][1] = e.target.value;\r\n                        }}\r\n                      />\r\n                    </InputGroup>\r\n                    <InputGroup>\r\n                      <Label>Student Name:</Label>\r\n                      <Input\r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        defaultValue={dt[2]}\r\n                        placeholder=\"Mr. John\"\r\n                        onChange={(e) => {\r\n                          data[idx][2] = e.target.value;\r\n                        }}\r\n                      />\r\n                    </InputGroup>\r\n                    <ButtonGroup>\r\n                      <IconButton\r\n                        style={{ right: \"35px\", background: \"green\" }}\r\n                        onClick={() => handleIncrementArray(idx)}\r\n                      >\r\n                        <HiPlusSm />\r\n                      </IconButton>\r\n                      {(idx !== 0 || data.length > 1) && (\r\n                        <IconButton\r\n                          style={{ right: \"0\", background: \"red\" }}\r\n                          onClick={() => handleDecrementArray(idx)}\r\n                        >\r\n                          <MdClose />\r\n                        </IconButton>\r\n                      )}\r\n                    </ButtonGroup>\r\n                  </FlexRow>\r\n                </React.Fragment>\r\n              );\r\n            })}\r\n            <ButtonPanel>\r\n              <Button onClick={handleReset}>Back</Button>\r\n              <Button onClick={handleSubmit}>Submit</Button>\r\n            </ButtonPanel>\r\n          </InputPanel>\r\n        )}\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AddIndividual;\r\n\r\nconst Container = styled.div`\r\n  display: ${(props) => (props.open === true ? \"block\" : \"none\")};\r\n`;\r\n\r\nconst Form = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100vw;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 0.4rem 0.5rem;\r\n  border-radius: 3px;\r\n  margin-bottom: 0.3rem;\r\n  border: 1px solid rgba(3, 3, 3, 0.5);\r\n\r\n  &::placeholder {\r\n    color: rgba(3, 3, 3, 0.5);\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  font-weight: 500;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  min-width: 100px;\r\n  &:nth-child(1) {\r\n    background: rgba(235, 77, 75, 1);\r\n    margin-right: 5px;\r\n  }\r\n\r\n  &:nth-child(2) {\r\n    background: rgba(72, 52, 212, 1);\r\n  }\r\n\r\n  &:hover {\r\n    &:nth-child(1) {\r\n      background: rgba(235, 100, 75, 1);\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      background: rgba(72, 100, 212, 1);\r\n    }\r\n  }\r\n\r\n  @media (max-width: 560px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst ButtonPanel = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 1rem 0;\r\n  padding: 0.5rem 0;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst IconButton = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50x;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50px;\r\n  color: #fff;\r\n  font-size: 1.2rem;\r\n  cursor: pointer;\r\n  bottom: 18px;\r\n  &:nth-child(1) {\r\n    margin: 0 5px;\r\n  }\r\n`;\r\n\r\nconst InputPanel = styled.div`\r\n  border: 1px solid rgba(3, 3, 3, 0.3);\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 0.5rem;\r\n  padding: 0.5rem 1rem;\r\n  position: relative;\r\n  border-radius: 3px;\r\n  width: 550px;\r\n\r\n  @media (max-width: 560px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst InputGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 0.5rem;\r\n  &:nth-child(1) {\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nconst FlexRow = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto 90px;\r\n  overflow: hidden;\r\n  width: 100%;\r\n\r\n  @media (max-width: 560px) {\r\n    grid-template-columns: auto;\r\n  }\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  padding-top: 7px;\r\n\r\n  @media (max-width: 560px) {\r\n    width: 100%;\r\n    justify-content: flex-end;\r\n    align-items: flex-start;\r\n    padding-top: 0;\r\n  }\r\n`;\r\n"],"names":["classInfo","isIndividual","setIsIndivisual","axios","useAxios","React","loading","setLoading","Number","classId","year","semester","courseName","term","data","setData","length","handleSubmit","post","then","res","handleReset","handleSuccess","catch","err","handleError","message","msg","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","Container","open","Form","Title","InputPanel","map","dt","idx","style","marginBottom","fontWeight","FlexRow","InputGroup","Label","Input","className","type","defaultValue","placeholder","onChange","e","target","value","name","ButtonGroup","IconButton","right","background","onClick","newArray","d","index","push","console","log","setTimeout","handleIncrementArray","splice","handleDecrementArray","ButtonPanel","Button","styled","props"],"sourceRoot":""}